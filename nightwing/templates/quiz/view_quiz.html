{% extends 'base.html' %}

{% block main %}
<div style="border: 2px solid #ddd; padding: 20px; margin-bottom: 30px; text-align: center; border-radius: 10px;">
    <p><strong>Quiz Code: <span id="quiz-code">{{ quiz.join_code }}</span></strong></p>
    <button onclick="copyToClipboard()" class="btn btn-info" style="margin-top: 10px;">Copy to Clipboard</button>
</div>

<h1>{{ quiz.title }}</h1>
<p>{{ quiz.description }}</p>

<h2>Questions</h2>
<ul>
    {% for question in questions %}
        <li>{{ question.question }}</li>
        <ul>
            <li>Option A: {{ question.option_a }}</li>
            <li>Option B: {{ question.option_b }}</li>
            <li>Option C: {{ question.option_c }}</li>
            <li>Option D: {{ question.option_d }}</li>
        </ul>
    {% empty %}
        <li>No questions available for this quiz.</li>
    {% endfor %}
</ul>

<a href="{% url 'quiz:create_question' quiz.id %}" class="btn btn-primary">Create More Questions</a>
<a href="{% url 'quiz:start' quiz.id %}" class="btn btn-secondary">Start Quiz</a>

<script>
    function copyToClipboard() {
        var quizCode = document.getElementById("quiz-code").innerText;
        navigator.clipboard.writeText(quizCode).catch(function(error) {
            console.error("Failed to copy quiz code: ", error);
        });
    }
</script>
{% endblock %}